{"version":3,"sources":["../stimuli.json","../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,MACI;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,QACI,KAAO;AAAA,QACP,MAAQ;AAAA,QACR,gBAAkB;AAAA,QAClB,oBAAsB;AAAA,QACtB,gBAAkB;AAAA,QAClB,kBAAoB;AAAA,MACxB;AAAA,IACJ;AAAA;AAAA;;;AChMA,OAAO,iCAAiC;AAKxC,IAAI,UAAU;AAQd,SAAS,kBAAiB;AAItB,MAAI,aAAa,CAAC;AAClB,WAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,UAAI,WAAW,IAAI,UAAQ,KAAK,KAAK,EAAE,SAAS,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,CAAC,EAAE,MAAM,KAAK,MAAM,GAAG;AACjG;AAAA,MACJ,OAAO;AACH,mBAAW;AAAA,UACP;AAAA,YACI,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,CAAC,EAAE;AAAA,YACxC,SAAS,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,CAAC;AAAA,YAChC,WAAW,CAAC,QAAQ,CAAC,EAAE,gBAAgB,QAAQ,CAAC,EAAE,cAAc;AAAA,YAChE,eAAe,CAAC,QAAQ,CAAC,EAAE,oBAAoB,QAAQ,CAAC,EAAE,iBAAiB;AAAA,YAC3E,MAAM;AAAA,uCACS,QAAQ,CAAC,EAAE;AAAA;AAAA,uCAEX,QAAQ,CAAC,EAAE;AAAA;AAAA;AAAA;AAAA,YAG1B,eAAgB,QAAQ,CAAC,EAAE,mBAAmB,QAAQ,CAAC,EAAE,iBAAkB,OAAO;AAAA,YAClF,mBAAoB,QAAQ,CAAC,EAAE,uBAAuB,QAAQ,CAAC,EAAE,qBAAsB,OAAO;AAAA,UAClG;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACA,UAAQ,IAAI,UAAU;AACtB,SAAO;AACX;AAEA,SAAS,YAAY,YAAY,UAAU,eAAe,mBAAkB;AACxE,UAAQ,IAAI,iBAAiB,aAAa,kBAAkB,mBAAmB;AAC/E,MAAI,WAAW,WAAW,OAAO,CAAC,SAAS,KAAK,UAAU,SAAS,QAAQ,CAAC;AAC5E,UAAQ,IAAI,QAAQ;AACpB,MAAI,kBAAkB,MAAM;AACxB,eAAW,SAAS,OAAO,CAAC,SAAS,KAAK,kBAAkB,IAAI;AAChE,QAAI,sBAAsB,MAAsE;AAC5F,iBAAW,SAAS,OAAO,CAAC,SAAS,KAAK,sBAAsB,IAAI;AAAA,IACxE,OAAO;AACH,iBAAW,SAAS,OAAO,CAAC,SAAS,KAAK,sBAAsB,KAAK;AAAA,IACzE;AAAA,EACJ,OAAO;AACH,eAAW,SAAS,OAAO,CAAC,SAAS,KAAK,kBAAkB,KAAK;AAAA,EACrE;AACA,UAAQ,IAAI,QAAQ;AACpB,QAAM,gBAAgB,SAAS,KAAK,MAAM,KAAK,OAAO,IAAI,SAAS,MAAM,CAAC;AAC1E,UAAQ,IAAI,cAAc,KAAK;AAC/B,SAAO,cAAc;AACzB;AAEA,SAAS,aAAa,SAAS,gBAAgB,oBAAmB;AAC9D,MAAI,QAAQ,kBAAkB,QAAQ,eAAe,GAAG;AACpD,UAAM,IAAI,MAAM;AAAA;AAAA;AAAA,SAGf;AAAA,EAAC;AACN,MAAI,eAAe,UAAU,KAAK,QAAQ,kBAAkB,GAAG;AAC3D,YAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,SAIZ;AACD,YAAQ,kBAAkB;AAAA,EAAE;AAChC,MAAI,mBAAmB,UAAU,KAAK,QAAQ,eAAe,GAAI;AAC7D,YAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,SAIZ;AACD,YAAQ,eAAe;AAAA,EAAE;AAC7B,MAAI,QAAQ,eAAe,QAAQ,YAAY,mBAAmB,QAAQ;AACtE,YAAQ,KAAK;AAAA,uCACkB,mBAAmB,wDAAwD,QAAQ,eAAe,QAAQ;AAAA;AAAA;AAAA,SAGxI;AAAA,EAAC;AACN,MAAI,QAAQ,kBAAkB,QAAQ,YAAY,eAAe,QAAQ;AACrE,YAAQ,KAAK;AAAA,uCACkB,eAAe,oDAAoD,QAAQ,kBAAkB,QAAQ;AAAA;AAAA;AAAA,SAGnI;AAAA,EAAC;AACN,SAAO;AACX;AASA,SAAS,uBAAuB,YAAY,SAAQ;AAChD,UAAQ,IAAI,6BAA6B;AACzC,MAAI,oBAAoB,CAAC;AAEzB,MAAI,YAAY,QAAQ;AAAA,IACpB,CAAC,aAAa,iBAAiB;AAC3B,UAAI,CAAC,YAAY,IAAI,UAAQ,IAAI,EAAE,SAAS,aAAa,cAAc,GAAG;AACtE,oBAAY,KAAK,aAAa,cAAc;AAAA,MAChD;AACA,aAAO;AAAA,IACX;AAAA,IACA,CAAC;AAAA,EACL;AACA,MAAI,QAAQ,eAAe,iBAAiB,GAAG;AAC3C,aAAS,IAAI,GAAG,IAAI,OAAO,KAAK,QAAQ,eAAe,EAAE,QAAS,KAAK;AACnE,YAAM,iBAAiB,OAAO,KAAK,QAAQ,eAAe,EAAE,CAAC;AAC7D,aAAO,UAAU,OAAO,YAAU,WAAW,cAAc,EAAE,SAAS,QAAQ,gBAAgB,cAAc,GAAG;AAC3G,kBAAU,KAAK,cAAc;AAAA,MACjC;AAAA,IACJ;AAAA,EACJ;AAEA,MAAI,iBAAiB,WAAW,OAAO,CAAC,SAAS,KAAK,kBAAkB,QAAQ,KAAK,sBAAsB,KAAK;AAChH,mBAAiB,eAAe;AAAA,IAC5B,CAAC,aAAa,iBAAiB;AAC3B,UAAI,CAAC,YAAY,IAAI,UAAQ,IAAI,EAAE,SAAS,aAAa,UAAU,CAAC,CAAC,GAAG;AACpE,oBAAY,KAAK,aAAa,UAAU,CAAC,CAAC;AAAA,MAC9C;AACA,aAAO;AAAA,IACX;AAAA,IACA,CAAC;AAAA,EACL;AACA,MAAI,QAAQ,eAAe,iBAAiB,GAAG;AAC3C,aAAS,IAAI,GAAG,IAAI,OAAO,KAAK,QAAQ,eAAe,EAAE,QAAS,KAAK;AACnE,YAAM,iBAAiB,OAAO,KAAK,QAAQ,eAAe,EAAE,CAAC;AAC7D,aAAO,eAAe,OAAO,YAAU,WAAW,cAAc,EAAE,SAAS,QAAQ,gBAAgB,cAAc,GAAG;AAChH,uBAAe,KAAK,cAAc;AAAA,MACtC;AAAA,IACJ;AAAA,EACJ;AACA,UAAQ,IAAI,8BAA8B,gBAAgB;AAE1D,MAAI,qBAAqB,WAAW,OAAO,CAAC,SAAS,KAAK,sBAAsB,IAAI;AACpF,uBAAqB,mBAAmB;AAAA,IACpC,CAAC,aAAa,iBAAiB;AAC3B,UAAI,CAAC,YAAY,IAAI,UAAQ,IAAI,EAAE,SAAS,aAAa,UAAU,CAAC,CAAC,GAAG;AACpE,oBAAY,KAAK,aAAa,UAAU,CAAC,CAAC;AAAA,MAC9C;AACA,aAAO;AAAA,IACX;AAAA,IACA,CAAC;AAAA,EACL;AACA,MAAI,QAAQ,eAAe,iBAAiB,GAAG;AAC3C,aAAS,IAAI,GAAG,IAAI,OAAO,KAAK,QAAQ,eAAe,EAAE,QAAS,KAAK;AACnE,YAAM,iBAAiB,OAAO,KAAK,QAAQ,eAAe,EAAE,CAAC;AAC7D,aAAO,mBAAmB,OAAO,YAAU,WAAW,cAAc,EAAE,SAAS,QAAQ,gBAAgB,cAAc,GAAG;AACpH,2BAAmB,KAAK,cAAc;AAAA,MAC1C;AAAA,IACJ;AAAA,EACJ;AACA,UAAQ,IAAI,kCAAkC,oBAAoB;AAElE,YAAU;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,EAAkB;AAEtB,MAAI,cAAc,QAAQ,kBAAkB,QAAQ;AACpD,MAAI,kBAAkB,QAAQ,eAAe,QAAQ;AACrD,MAAI,aAAa,QAAQ,aAAa,cAAc;AACpD,UAAQ,IAAI,UAAU,mCAAmC,qCAAqC;AAE9F,MAAI,wBAAwB,mBAAmB,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,eAAe;AACvG,SAAO,sBAAsB,SAAS,iBAAiB;AACnD,sBAAkB,kBAAkB,sBAAsB;AAC1D,4BAAwB,sBAAsB,OAAO,mBAAmB,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,eAAe,CAAC;AAAA,EACrI;AACA,QAAM,wBAAwB,sBAAsB,IAAI,WAAS;AAAA,IAC7D,gBAAgB;AAAA,IAChB,eAAe;AAAA;AAAA,IACf,mBAAmB;AAAA,EACvB,EAAE;AAEF,MAAI,CAAC,QAAQ,mBAAmB;AAC5B,qBAAiB,eAAe,OAAO,UAAQ,CAAC,sBAAsB,SAAS,IAAI,CAAC;AAAA,EACxF;AACA,MAAI,oBAAoB,eAAe,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,WAAW;AAC3F,SAAO,kBAAkB,SAAS,aAAa;AAC3C,kBAAc,cAAc,kBAAkB;AAC9C,wBAAoB,kBAAkB,OAAO,eAAe,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,WAAW,CAAC;AAAA,EACrH;AACA,QAAM,oBAAoB,kBAAkB,IAAI,WAAS;AAAA,IACrD,gBAAgB;AAAA,IAChB,eAAe;AAAA,IACf,mBAAmB;AAAA;AAAA,EACvB,EAAE;AAEF,MAAI,CAAC,QAAQ,mBAAmB;AAC5B,gBAAY,UAAU,OAAO,UAAQ,CAAC,kBAAkB,SAAS,IAAI,KAAK,CAAC,sBAAsB,SAAS,IAAI,CAAC;AAAA,EACnH;AACA,MAAI,kBAAkB,UAAU,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,UAAU;AACnF,SAAO,gBAAgB,SAAS,YAAY;AACxC,iBAAa,aAAa,gBAAgB;AAC1C,sBAAkB,gBAAgB,OAAO,UAAU,KAAK,MAAM,MAAM,KAAK,OAAO,CAAC,EAAE,MAAM,GAAG,UAAU,CAAC;AAAA,EAC3G;AACA,QAAM,mBAAmB,gBAAgB,IAAI,WAAS;AAAA,IAClD,gBAAgB;AAAA,IAChB,eAAe;AAAA,IACf,mBAAmB;AAAA,EACvB,EAAE;AAEF,sBAAoB,iBAAiB,OAAO,mBAAmB,qBAAqB;AAEpF,UAAQ,IAAI,iBAAiB;AAC7B,UAAQ,IAAI,MAAM;AAClB,SAAO;AACX;AAMO,SAAS,eAAe,SAAiB,UAA0C,CAAC,GAAE;AACzF,MAAI,gBAAgB,CAAC;AAErB,QAAM,iBAAiB;AAAA,IACnB,WAAW;AAAA;AAAA,IACX,mBAAmB;AAAA,IACnB,iBAAiB;AAAA,IACjB,cAAc;AAAA,EAClB;AAEA,YAAU,kCACH,iBACA;AAGP,QAAM,aAAa,gBAAgB;AACnC,MAAI,YAAY,uBAAuB,YAAY,OAAO;AAE1D,QAAM,QAAQ;AAAA,IACV,MAAM;AAAA,IACN,UAAU,MAAM;AAAA,MACZ;AAAA,MACA,QAAQ,yBAAyB,gBAAgB;AAAA,MACjD,QAAQ,yBAAyB,eAAe;AAAA,MAChD,QAAQ,yBAAyB,mBAAmB;AAAA,IACxD;AAAA,IACA,QAAQ;AAAA;AAAA,IAER,SAAS,CAAC,KAAK,GAAG;AAAA,EACtB;AAEA,MAAI,iBAAiB;AAAA,IACjB,UAAU,CAAC,KAAK;AAAA,IAChB,oBAAoB;AAAA,IACpB,iBAAiB;AAAA,EACrB;AAEA,gBAAc,KAAK,cAAc;AAEjC,SAAO;AACX;AAWO,IAAM,gBAAgB,CAAC;AAEvB,IAAM,QAAQ,CAAC","sourcesContent":["[\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"pope\",\n        \"endingPhonetic\": \"oʊp\",\n        \"endingOrthographic\": \"ope\",\n        \"name_agreement\": 0.45,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"rope\",\n        \"endingPhonetic\": \"oʊp\",\n        \"endingOrthographic\": \"ope\",\n        \"name_agreement\": 1.00,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"soap\",\n        \"endingPhonetic\": \"oʊp\",\n        \"endingOrthographic\": \"oap\",\n        \"name_agreement\": 0.80,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bell\",\n        \"endingPhonetic\": \"ɛɫ\",\n        \"endingOrthographic\": \"ell\",\n        \"name_agreement\": 0.90,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bag\",\n        \"endingPhonetic\": \"æɡ\",\n        \"endingOrthographic\": \"ag\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bear\",\n        \"endingPhonetic\": \"ɛɹ\",\n        \"endingOrthographic\": \"ear\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bed\",\n        \"endingPhonetic\": \"ɛd\",\n        \"endingOrthographic\": \"ed\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"beer\",\n        \"endingPhonetic\": \"ɪɹ\",\n        \"endingOrthographic\": \"eer\",\n        \"name_agreement\": 0.75,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bone\",\n        \"endingPhonetic\": \"oʊn\",\n        \"endingOrthographic\": \"one\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"box\",\n        \"endingPhonetic\": \"ɑks\",\n        \"endingOrthographic\": \"ox\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"brain\",\n        \"endingPhonetic\": \"eɪn\",\n        \"endingOrthographic\": \"ain\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"bread\",\n        \"endingPhonetic\": \"ɛd\",\n        \"endingOrthographic\": \"ead\",\n        \"name_agreement\": 0.90 ,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"cab\",\n        \"endingPhonetic\": \"æb\",\n        \"endingOrthographic\": \"ab\",\n        \"name_agreement\": 0.05,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"cat\",\n        \"endingPhonetic\": \"æt\",\n        \"endingOrthographic\": \"at\",\n        \"name_agreement\": 0.90,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"chain\",\n        \"endingPhonetic\": \"eɪn\",\n        \"endingOrthographic\": \"ain\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"chair\",\n        \"endingPhonetic\": \"ɛɹ\",\n        \"endingOrthographic\": \"air\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"claw\",\n        \"endingPhonetic\": \"ɔ\",\n        \"endingOrthographic\": \"aw\",\n        \"name_agreement\": 0.55,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"clock\",\n        \"endingPhonetic\": \"ɑk\",\n        \"endingOrthographic\": \"ock\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"cone\",\n        \"endingPhonetic\": \"oʊn\",\n        \"endingOrthographic\": \"one\",\n        \"name_agreement\": 0.70,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"crab\",\n        \"endingPhonetic\": \"æb\",\n        \"endingOrthographic\": \"ab\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"crane\",\n        \"endingPhonetic\": \"eɪn\",\n        \"endingOrthographic\": \"ane\",\n        \"name_agreement\": 0.70,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"dart\",\n        \"endingPhonetic\": \"ɑɹt\",\n        \"endingOrthographic\": \"art\",\n        \"name_agreement\": 0.90,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"deer\",\n        \"endingPhonetic\": \"ɪɹ\",\n        \"endingOrthographic\": \"eer\",\n        \"name_agreement\": 0.65,\n        \"target_frequency\": 3.6810\n    },\n    {\n        \"img\": \"../img/blue.png\",\n        \"word\": \"door\",\n        \"endingPhonetic\": \"ɔɹ\",\n        \"endingOrthographic\": \"oor\",\n        \"name_agreement\": 0.95,\n        \"target_frequency\": 3.6810\n    }\n]","import { JsPsych } from \"jspsych\"\nimport JsPsychHTMLKeyboardResponse from \"@jspsych/plugin-html-keyboard-response\"\n\n// General Notes on Development:\n// - Scalability was improved by having one large n-squared pairing list, with properties to build parameters on\n\nvar stimuli = require('../stimuli.json')\n\n// things that need to happen, by priority:\n// - develop duplicatesAllowed in buildTimelineVariables function\n// - integrate minNameAgreement parameter\n// - set up so I can test rhymeDistribution parameter\n\n// consider refactoring\nfunction buildPairingMap(){ \n// argument is redundant; \n// duplicate trials can be handled in buildTimelineVariables \n// and don't need to be anywhere in the pairingMap\n    let pairingMap = [] // maybe this loop can be the start to determining if some endings have no rhymes\n    for (let i = 0; i < stimuli.length; i++) {\n        for (let j = 0; j < stimuli.length; j++) {\n            if (pairingMap.map(item => item.words).includes(`${stimuli[j].word}-${stimuli[i].word}`) || i === j) { \n                continue\n            } else {\n                pairingMap.push(\n                    {\n                        words: `${stimuli[i].word}-${stimuli[j].word}`,\n                        pairing: [stimuli[i], stimuli[j]],\n                        phonetics: [stimuli[i].endingPhonetic, stimuli[j].endingPhonetic],\n                        orthographics: [stimuli[i].endingOrthographic, stimuli[j].endingOrthogaphic],\n                        html: `<div style='display:flex;align-items:center;justify-content:center;'> \n                            <img src=${stimuli[i].img} style='width:50'></img>\n                            <p>+</p>\n                            <img src=${stimuli[j].img} style='width:50'></img>\n                        </div>`, // problem with the stimuli not appearing side-by-side\n                        // set this up so that stimuli are randomized left/right; this might end up refactoring the html in the grabStimuli function\n                        rhymePhonetic: (stimuli[i].endingPhonetic === stimuli[j].endingPhonetic) ? true : false,\n                        rhymeOrthographic: (stimuli[i].endingOrthographic === stimuli[j].endingOrthographic) ? true : false,\n                    }\n                )\n            }\n        }\n    }\n    console.log(pairingMap)\n    return pairingMap   \n} // test to see if duplicate combinations or same-word combinations exist in pairingMap\n\nfunction grabStimuli(pairingMap, phonetic, rhymePhonetic, rhymeOrthographic){\n    console.log(`Variables are ${phonetic}, ${rhymePhonetic}, ${rhymeOrthographic}`)\n    var pairings = pairingMap.filter((item) => item.phonetics.includes(phonetic)) // filter by phonetics first\n    console.log(pairings)\n    if (rhymePhonetic === true) {\n        pairings = pairings.filter((item) => item.rhymePhonetic === true)\n        if (rhymeOrthographic === true /* assume proportionOrtho is relative to proportionPhonetic */ ) {\n            pairings = pairings.filter((item) => item.rhymeOrthographic === true)\n        } else {\n            pairings = pairings.filter((item) => item.rhymeOrthographic === false)\n        }\n    } else {\n        pairings = pairings.filter((item) => item.rhymePhonetic === false)\n    }\n    console.log(pairings)\n    const trialStimulus = pairings[Math.floor(Math.random() * pairings.length)]\n    console.log(trialStimulus.words)\n    return trialStimulus.html\n} // test that it doesn't break if there are no rhymes\n\nfunction checkOptions(options, phoneticsRhyme, orthographicsRhyme){\n    if (options.percentPhonetic + options.percentOrtho > 1) {\n        throw new Error(`\nThe sum of percentPhonetic and percentOrtho cannot exceed 1.\nPlease adjust these parameters accordingly.\n        `)}\n    if (phoneticsRhyme.length == 0 && options.percentPhonetic > 0) {\n        console.warn(`\nYour stimuli.json file does not contain any phonetic rhymes, even though you requested trials with phonetic rhymes.\nPlease either add stimuli that rhyme phonetically to stimuli.json, or set percentPhonetic to 0 to avoid this warning.\nFor now, we will make up the difference with non-rhyming trials.\n        `)\n        options.percentPhonetic = 0 }\n    if (orthographicsRhyme.length == 0 && options.percentOrtho > 0 ) {\n        console.warn(`\nYour stimuli.json file does not contain any orthographic rhymes, even though you requested trials with orthographic rhymes.\nPlease either add stimuli that rhyme orthographic to stimuli.json, or set percentOrthographic to 0 to avoid this warning.\nFor now, we will make up the difference with non-rhyming trials.\n        `)\n        options.percentOrtho = 0 }\n    if (options.percentOrtho * options.numTrials > orthographicsRhyme.length) {\n        console.warn(`\nYour stimuli.json file only contains ${orthographicsRhyme.length} unique orthographic rhymes, but you requested ${options.percentOrtho * options.numTrials} orthographic rhymes.\nPlease either reduce the number of total trials, or reduce the proportion of trials with orthographic rhymes.\nFor now, we will make up the difference with duplicates.\n        `)}\n    if (options.percentPhonetic * options.numTrials > phoneticsRhyme.length) {\n        console.warn(`\nYour stimuli.json file only contains ${phoneticsRhyme.length} unique phonetic rhymes, but you requested ${options.percentPhonetic * options.numTrials} phonetic rhymes.\nPlease either reduce the number of total trials, or reduce the proportion of trials with phonetic rhymes.\nFor now, we will make up the difference with duplicates.\n        `)}\n    return options\n}\n\n// for buildTimelineVariables:\n// - integrate duplicatesAllowed parameter (this may take longer than expected, or come at the end; no clear idea how to set up a duplicates parameter)\n// Notes on duplicatesAllowed parameter:\n// - it could effect if duplicate phonetic endings are selected\n// -- between rhyme classes of end-pairings (i.e., phonetic, orthographic, control)\n// -- within a single rhyme class of end-pairings\n// -- among versions of a single end-pairing (e.g. \"cat-hat\" appearing twice)\nfunction buildTimelineVariables(pairingMap, options){\n    console.log(\"building timeline variables\")\n    var timelineVariables = []\n\n    var phonetics = stimuli.reduce(\n        (accumulator, currentValue) => {\n            if (!accumulator.map(item => item).includes(currentValue.endingPhonetic)) { //maybe rename endingPhonetics to just phonetic\n                accumulator.push(currentValue.endingPhonetic)\n            }\n            return accumulator;\n        },\n        []\n    )\n    if (options.hasOwnProperty('phoneticWeights')) {\n        for (let i = 0; i < Object.keys(options.phoneticWeights).length ; i++) {\n            const endingWeighted = Object.keys(options.phoneticWeights)[i]\n            while (phonetics.filter(ending => ending === endingWeighted).length < options.phoneticWeights[endingWeighted]) {\n                phonetics.push(endingWeighted)\n            }\n        }\n    }\n\n    var rhymesPhonetic = pairingMap.filter((item) => item.rhymePhonetic === true && item.rhymeOrthographic === false)\n    rhymesPhonetic = rhymesPhonetic.reduce(\n        (accumulator, currentValue) => {\n            if (!accumulator.map(item => item).includes(currentValue.phonetics[0])) {\n                accumulator.push(currentValue.phonetics[0])\n            }\n            return accumulator;\n        },\n        []\n    )\n    if (options.hasOwnProperty('phoneticWeights')) {\n        for (let i = 0; i < Object.keys(options.phoneticWeights).length ; i++) {\n            const endingWeighted = Object.keys(options.phoneticWeights)[i]\n            while (rhymesPhonetic.filter(ending => ending === endingWeighted).length < options.phoneticWeights[endingWeighted]) {\n                rhymesPhonetic.push(endingWeighted)\n            }\n        }\n    }\n    console.log(`Phonetic rhymes available: ${rhymesPhonetic}`)\n\n    var rhymesOrthographic = pairingMap.filter((item) => item.rhymeOrthographic === true)\n    rhymesOrthographic = rhymesOrthographic.reduce(\n        (accumulator, currentValue) => {\n            if (!accumulator.map(item => item).includes(currentValue.phonetics[0])) {\n                accumulator.push(currentValue.phonetics[0])\n            }\n            return accumulator;\n        },\n        []\n    )\n    if (options.hasOwnProperty('phoneticWeights')) {\n        for (let i = 0; i < Object.keys(options.phoneticWeights).length ; i++) {\n            const endingWeighted = Object.keys(options.phoneticWeights)[i]\n            while (rhymesOrthographic.filter(ending => ending === endingWeighted).length < options.phoneticWeights[endingWeighted]) {\n                rhymesOrthographic.push(endingWeighted)\n            }\n        }\n    }\n    console.log(`Orthographic rhymes available: ${rhymesOrthographic}`)\n\n    options = checkOptions(\n        options, \n        rhymesPhonetic, \n        rhymesOrthographic)\n\n    var numPhonetic = options.percentPhonetic * options.numTrials\n    var numOrthographic = options.percentOrtho * options.numTrials\n    var numControl = options.numTrials - (numPhonetic + numOrthographic)\n    console.log(`I want ${numPhonetic} phonetic rhymes and ${numOrthographic} orthographic rhymes`)\n\n    var selectedOrthographics = rhymesOrthographic.sort(() => 0.5 - Math.random()).slice(0, numOrthographic)\n    while (selectedOrthographics.length < numOrthographic) {\n        numOrthographic = numOrthographic - selectedOrthographics.length\n        selectedOrthographics = selectedOrthographics.concat(rhymesOrthographic.sort(() => 0.5 - Math.random()).slice(0, numOrthographic))\n    }\n    const variablesOrthographic = selectedOrthographics.map(item => ({\n        endingPhonetic: item,\n        rhymePhonetic: true, // assumes every orthographic rhyme is also a phonetic rhyme\n        rhymeOrthographic: true,\n    }))\n\n    if (!options.duplicatesAllowed) {\n        rhymesPhonetic = rhymesPhonetic.filter(item => !selectedOrthographics.includes(item))\n    }\n    var selectedPhonetics = rhymesPhonetic.sort(() => 0.5 - Math.random()).slice(0, numPhonetic)\n    while (selectedPhonetics.length < numPhonetic) {\n        numPhonetic = numPhonetic - selectedPhonetics.length\n        selectedPhonetics = selectedPhonetics.concat(rhymesPhonetic.sort(() => 0.5 - Math.random()).slice(0, numPhonetic))\n    }\n    const variablesPhonetic = selectedPhonetics.map(item => ({\n        endingPhonetic: item,\n        rhymePhonetic: true,\n        rhymeOrthographic: false, // this may not always be true, if the only available phonetic rhymes are also orthographic rhymes\n    }))\n\n    if (!options.duplicatesAllowed) {\n        phonetics = phonetics.filter(item => !selectedPhonetics.includes(item) && !selectedOrthographics.includes(item))\n    }\n    var controlSelected = phonetics.sort(() => 0.5 - Math.random()).slice(0, numControl)\n    while (controlSelected.length < numControl) {\n        numControl = numControl - controlSelected.length\n        controlSelected = controlSelected.concat(phonetics.sort(() => 0.5 - Math.random()).slice(0, numControl))\n    }\n    const variablesControl = controlSelected.map(item => ({\n        endingPhonetic: item,\n        rhymePhonetic: false,\n        rhymeOrthographic: false,\n    }))\n\n    timelineVariables = variablesControl.concat(variablesPhonetic, variablesOrthographic)\n\n    console.log(timelineVariables)\n    console.log('done')\n    return timelineVariables\n} \n// tests:\n// that the correct number of trials are created\n// that the correct number of rhyming vs. non-rhyming items are selected everytime\n// that duplicates never appear when not allowed\n\nexport function createTimeline(jsPsych:JsPsych, options: Partial<CreateTimelineOptions> = {}){\n    var main_timeline = []\n\n    const defaultOptions = {\n        numTrials: 10, // this parameter bugs when percentPhonetic or percentOrtho can't be met by available stimuli\n        duplicatesAllowed: false,\n        percentPhonetic: 0.5,\n        percentOrtho: 0.3,\n    }\n\n    options = {\n        ...defaultOptions,\n        ...options,\n    };\n\n    const pairingMap = buildPairingMap()\n    let variables = buildTimelineVariables(pairingMap, options)\n\n    const trial = {\n        type: JsPsychHTMLKeyboardResponse,\n        stimulus: () => grabStimuli(\n            pairingMap,\n            jsPsych.evaluateTimelineVariable('endingPhonetic'), \n            jsPsych.evaluateTimelineVariable('rhymePhonetic'),\n            jsPsych.evaluateTimelineVariable('rhymeOrthographic')\n        ),\n        prompt: `<p>Do the names of these items rhyme?</p></br>\n                <p>Press F for \"Yes\" and J for \"No\"</p>`,\n        choices: ['f', 'j'],\n    }\n\n    var trial_timeline = {\n        timeline: [trial],\n        timeline_variables: variables,\n        randomize_order: false,\n    }\n\n    main_timeline.push(trial_timeline)\n\n    return main_timeline\n}\n\nexport interface CreateTimelineOptions {\n    numTrials: number,\n    duplicatesAllowed: boolean,\n    percentPhonetic: number,\n    percentOrtho: number,\n    phoneticWeights?: object[], // this is just to see if some rhymes get suppressed or boosted\n    minNameAgreement?: number,\n}\n\nexport const timelineUnits = {}\n\nexport const utils = {}"]}